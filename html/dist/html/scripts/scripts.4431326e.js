"use strict";function startsWithCharAt(a,b){for(var c=0,d=b.length;d>c;c+=1)if(b.charAt(c)!==a.charAt(c))return!1;return!0}function refreshLoop(a,b,c){timer=b(function(){},200),timer.then(function(){console.log("INFO: Timer triggered"),c.getStatus().then(function(b){a.status=b.data,a.car0BtId||(a.car0BtId=a.status[0].carID),a.car1BtId||(a.car1BtId=a.status[1].carID),a.car2BtId||(a.car2BtId=a.status[2].carID),a.car3BtId||(a.car3BtId=a.status[3].carID),a.status[0].laneOffset=c.translateCarOffsetToLane(a.status[0].laneOffset),a.status[1].laneOffset=c.translateCarOffsetToLane(a.status[1].laneOffset),a.status[2].laneOffset=c.translateCarOffsetToLane(a.status[2].laneOffset),a.status[3].laneOffset=c.translateCarOffsetToLane(a.status[3].laneOffset),a.showCollisionImg&&(console.log("INFO: Timer for image reload triggered"),a.imageUrl=c.getCollisionImageURL()),a.car1img=a.findImgFileForId(a.car1BtId),a.car2img=a.findImgFileForId(a.car2BtId),a.car1tileimg=a.findImgFileForTileType(a.status[1].posTileType),a.car2tileimg=a.findImgFileForTileType(a.status[2].posTileType),a.car1batteryimg=a.findImgFileForBatteryLevel(a.status[1].carBatteryLevel),a.car2batteryimg=a.findImgFileForBatteryLevel(a.status[2].carBatteryLevel)},function(b){console.error("ERROR: getStatus request failed: "+b.statusText),a.status[1].carID="fb8f2bab1e4b",a.status[2].carID="fb2c43ca4073",a.car1BtId=a.status[1].carID,a.car2BtId=a.status[2].carID,a.status[1].laneOffset="1",a.status[2].laneOffset="2",a.status[1].carSpeed="450",a.status[2].carSpeed="460",a.status[1].laneNo="1",a.status[2].laneNo="2",a.status[1].carBatteryLevel="3540",a.status[2].carBatteryLevel="3890",a.status[1].posTileNo="1",a.status[2].posTileNo="2",a.status[1].posTileType="STRAIGHT",a.status[2].posTileType="CURVE",a.car1img=a.findImgFileForId(a.status[1].carID),a.car2img=a.findImgFileForId(a.status[2].carID),a.car1tileimg=a.findImgFileForTileType(a.status[1].posTileType),a.car2tileimg=a.findImgFileForTileType(a.status[2].posTileType),a.car1batteryimg=a.findImgFileForBatteryLevel(a.status[1].carBatteryLevel),a.car2batteryimg=a.findImgFileForBatteryLevel(a.status[2].carBatteryLevel),a.imageUrl="/images/capture.jpg"}),a.poll&&refreshLoop(a,b,c)},function(){console.error("ERROR: Timer rejected!")})}angular.module("htmlApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/home",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/config",{templateUrl:"views/config.html",controller:"ConfigCtrl",controllerAs:"config"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/collisiondetection",{templateUrl:"views/collisiondetection.html",controller:"CollisionDetectionCtrl",controllerAs:"collisiondetection"}).otherwise({redirectTo:"/"})}]),console.log("Initialise services at: "+window.location.href);var baseURL="";startsWithCharAt(window.location.href,"http://localhost:9000")&&(baseURL="http://localhost:8001",console.log("INFO: Using hard coded dev server at: "+baseURL)),angular.module("htmlApp").factory("MainFactory",["$http",function(a){var b={};return b.getStatus=function(){return a.get(baseURL+"/v1/twin/status")},b.postCommand=function(b){return a.post(baseURL+"/v1/twin/command",b)},b.getCars=function(){return a.get(baseURL+"/carConfigs")},b.translateCarOffsetToLane=function(a){return 68>=a&&a>=66?1:25>=a&&a>=21?2:-21>=a&&a>=-25?3:a>=-67&&-66>=a?4:0},b.getCollisionImageURL=function(){return baseURL?baseURL+"/html/images/capture_old.jpg?x="+(new Date).getTime():"images/capture_old.jpg?x="+(new Date).getTime()},b}]),angular.module("htmlApp").factory("MainConfig",function(){var a={};return a.slowSpeed=400,a.highSpeed=600,a});var timer;angular.module("htmlApp").controller("MainCtrl",["$scope","$timeout","MainFactory","MainConfig",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.togglePoll=function(){console.log("INFO: Handling togglePoll"),a.poll?(a.text="Start polling",a.poll=!1):(a.text="Stop polling",a.poll=!0,refreshLoop(a,b,c))},a.requestPing=function(a){console.log("INFO: Handling requestPing for carno "+a);var b={command:"ping",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: Ping command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.requestVersion=function(a){console.log("INFO: Handling requestVersion for carno "+a);var b={command:"ver",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: Version command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.swapCar=function(b){console.log("INFO: Handling swap bluetooth id for carno "+b);var d={command:"swap",param1:""+a["car"+b+"BtId"],carNo:b,source:"ui"};c.postCommand(d).then(function(a){console.log("INFO: Swap command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.changeSpeedUp=function(a){console.log("INFO: Handling changeSpeedUp for carno "+a);var b={command:"s",param1:""+d.highSpeed,carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: SpeedUp command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.changeSpeedDown=function(a){console.log("INFO: Handling changeSpeedDown for carno "+a);var b={command:"s",param1:""+d.slowSpeed,carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: SpeedDown command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.changeSpeedStop=function(a){console.log("INFO: Handling changeSpeedStop for carno "+a);var b={command:"s",param1:"0",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: SpeedStop command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.changeLaneLeft=function(a){console.log("INFO: Handling changeLaneLeft for carno "+a);var b={command:"c",param1:"",param2:"left",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: changeLaneLeft command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.changeLaneRight=function(a){console.log("INFO: Handling changeLaneRight for carno "+a);var b={command:"c",param1:"",param2:"right",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: changeLaneRight command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.showInitialise=function(a){console.log("INFO: Handling showInitialise for carno "+a)},a.changeLight=function(a){console.log("INFO: Handling changeLight for carno "+a);var b={command:"l",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: changeLight command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.changeLightPattern=function(a){console.log("INFO: Handling changeLightPattern for carno "+a);var b={command:"lp",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: changeLightPattern command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.requestLevel=function(a){console.log("INFO: Handling requestLevel for carno "+a);var b={command:"bat",carNo:a,source:"ui"};c.postCommand(b).then(function(a){console.log("INFO: requestLevel command submitted to server: "+a.statusText)},function(a){console.error("ERROR: Request failed: "+a.statusText)})},a.toggleCollisionImage=function(){console.log("INFO: Handling toggle collision image"),this.showCollisionImg=!this.showCollisionImg},a.imgFilePrefix="images/",a.imgFileForId=[{model:"0 GROUNDSHOCK (BLUE)",btid:"edef582991e2",img:"groundshock.jpg"},{model:"1 SKULL (BLACK)",btid:"fb8f2bab1e4b",img:"skull.jpg"},{model:"2 NUKE (GREEN/BLACK)",btid:"fb2c43ca4073",img:"nuke.jpg"},{model:"3 NUKE (GREEN/BLACK)",btid:"f458e8027a27",img:"nuke.jpg"},{model:"4 BIGBANG (GREEN)",btid:"c3f8b8e6ba79",img:"bigbang.jpg"},{model:"5 BIGBANG (GREEN)",btid:"d1ffcbf22347",img:"bigbang.jpg"},{model:"6 THERMO (RED)",btid:"e07c5f42d543",img:"thermo.jpg"},{model:"7 THERMO (RED)",btid:"e67a69585ca4",img:"thermo.jpg"},{model:"8 GUARDIAN (BLUE/SILVER)",btid:"d4435b819516",img:"guardian.jpg"},{model:"9 GUARDIAN (BLUE/SILVER)",btid:"e58aa933a106",img:"guardian.jpg"},{model:"10 GROUNDSHOCK (BLUE)",btid:"f4f96680d1f2",img:"groundshock.jpg"},{model:"11 SKULL (BLACK)",btid:"ec7d32207f95",img:"skull.jpg"},{model:"12 NUKE (GREEN/BLACK)",btid:"f094f611c8e5",img:"nuke.jpg"},{model:"13 NUKE (GREEN/BLACK)",btid:"d72c9a461b87",img:"nuke.jpg"},{model:"14 BIGBANG (GREEN)",btid:"ea90f84f2804",img:"bigbang.jpg"},{model:"15 BIGBANG (GREEN)",btid:"f30da22227b1",img:"bigbang.jpg"},{model:"16 THERMO (RED)",btid:"d00a4e9b93d3",img:"thermo.jpg"},{model:"17 THERMO (RED)",btid:"f65332e1688c",img:"thermo.jpg"},{model:"18 GUARDIAN (BLUE/SILVER)",btid:"eee9ed31eac1",img:"guardian.jpg"},{model:"19 GUARDIAN (BLUE/SILVER)",btid:"d3c74657a020",img:"guardian.jpg"},{model:"20 MUSCLE (GRAY)",btid:"d4b42cc5cf27",img:"muscle.jpg"},{model:"21 PICKUPTRUCK (GRAY)",btid:"d00a267f9e09",img:"pickuptruck.jpg"},{model:"XX FREEWHEEL (GREEN/SILVER)",btid:"df46034abd1b",img:"freewheel.jpg"},{model:"1 GROUNDSHOCK (BLUE)",btid:"da817193ce9c",img:"groundshock.jpg"},{model:"2 SKULL (BLACK)",btid:"e6d3ac9af37e",img:"skull.jpg"}],a.findImgFileForId=function(b){for(var c=0;c<a.cars.length;c++)if(a.cars[c].btid===b&&a.cars[c].img)return a.imgFilePrefix+a.cars[c].img;for(var d=0;d<a.imgFileForId.length;d++)if(a.imgFileForId[d].btid===b)return a.imgFilePrefix+a.imgFileForId[d].img;return a.imgFilePrefix+a.imgFileForId[0].img},a.imgFileForTileType=[{type:"-",img:"unknown-tile.jpg"},{type:"STRAIGHT",img:"straight.jpg"},{type:"CURVE",img:"curve.jpg"},{type:"CROSSING",img:"crossing.jpg"}],a.findImgFileForTileType=function(b){for(var c=0;c<a.imgFileForTileType.length;c++)if(a.imgFileForTileType[c].type===b)return a.imgFilePrefix+a.imgFileForTileType[c].img;return a.imgFilePrefix+a.imgFileForTileType[0].img},a.imgFileForBatteryMin=[{min:3800,img:"full-battery.png"},{min:3200,img:"half-battery.png"},{min:0,img:"empty-battery.png"}],a.findImgFileForBatteryLevel=function(b){for(var c=0;c<a.imgFileForBatteryMin.length;c++)if(a.imgFileForBatteryMin[c].min<=b)return a.imgFilePrefix+a.imgFileForBatteryMin[c].img;return a.imgFilePrefix+"battery-icon.png"},a.lastUpdate="N/A",a.poll=!1,a.text="Start polling",a.status=[{},{},{}],a.speedimg=a.imgFilePrefix+"speedometer.png",a.laneimg=a.imgFilePrefix+"lane.png",a.tilenumberimg=a.imgFilePrefix+"tile-number.png",a.showCollisionImg=!0,c.getCars().then(function(b){a.cars=b.data},function(b){console.error("ERROR: getCars request failed: "+b.statusText),a.cars=[{model:"0 GROUNDSHOCK (BLUE)",btid:"edef582991e2",img:"groundshock.jpg"},{model:"1 SKULL (BLACK)",btid:"fb8f2bab1e4b",img:"skull.jpg"},{model:"2 NUKE (GREEN/BLACK)",btid:"fb2c43ca4073",img:"nuke.jpg"},{model:"3 NUKE (GREEN/BLACK)",btid:"f458e8027a27",img:"nuke.jpg"},{model:"4 BIGBANG (GREEN)",btid:"c3f8b8e6ba79",img:"bigbang.jpg"},{model:"5 BIGBANG (GREEN)",btid:"d1ffcbf22347",img:"bigbang.jpg"},{model:"6 THERMO (RED)",btid:"e07c5f42d543",img:"thermo.jpg"},{model:"7 THERMO (RED)",btid:"e67a69585ca4",img:"thermo.jpg"},{model:"8 GUARDIAN (BLUE/SILVER)",btid:"d4435b819516",img:"guardian.jpg"},{model:"9 GUARDIAN (BLUE/SILVER)",btid:"e58aa933a106",img:"guardian.jpg"},{model:"10 GROUNDSHOCK (BLUE)",btid:"f4f96680d1f2",img:"groundshock.jpg"},{model:"11 SKULL (BLACK)",btid:"ec7d32207f95",img:"skull.jpg"},{model:"12 NUKE (GREEN/BLACK)",btid:"f094f611c8e5",img:"nuke.jpg"},{model:"13 NUKE (GREEN/BLACK)",btid:"d72c9a461b87",img:"nuke.jpg"},{model:"14 BIGBANG (GREEN)",btid:"ea90f84f2804",img:"bigbang.jpg"},{model:"15 BIGBANG (GREEN)",btid:"f30da22227b1",img:"bigbang.jpg"},{model:"16 THERMO (RED)",btid:"d00a4e9b93d3",img:"thermo.jpg"},{model:"17 THERMO (RED)",btid:"f65332e1688c",img:"thermo.jpg"},{model:"18 GUARDIAN (BLUE/SILVER)",btid:"eee9ed31eac1",img:"guardian.jpg"},{model:"19 GUARDIAN (BLUE/SILVER)",btid:"d3c74657a020",img:"guardian.jpg"},{model:"20 MUSCLE (GRAY)",btid:"d4b42cc5cf27",img:"muscle.jpg"},{model:"21 PICKUPTRUCK (GRAY)",btid:"d00a267f9e09",img:"pickuptruck.jpg"},{model:"XX FREEWHEEL (GREEN/SILVER)",btid:"df46034abd1b",img:"freewheel.jpg"}]}),a.poll||a.togglePoll()}]),angular.module("htmlApp").controller("CollisionDetectionCtrl",["$scope","$interval",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b(function(){console.log("INFO: Timer for image reload triggered"),a.imageUrl="images/capture_old.jpg?x="+(new Date).getTime()},200)}]),angular.module("htmlApp").controller("ConfigCtrl",["$scope","MainConfig",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.save=function(){console.log("INFO: Save values"),b.slowSpeed=a.slowSpeed,b.highSpeed=a.highSpeed},a.slowSpeed=b.slowSpeed,a.highSpeed=b.highSpeed}]),angular.module("htmlApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("htmlApp").run(["$templateCache",function(a){a.put("views/about.html",'<!--\nCopyright 2018 NTT Group\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this\nsoftware and associated documentation files (the "Software"), to deal in the Software\nwithout restriction, including without limitation the rights to use, copy, modify,\nmerge, publish, distribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be included in all copies\nor substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\nINCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\nPURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE\nFOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n--> <div style="text-align: center"> <div style="width: 780px"> <p> <img src="images/bigbang.jpg" width="240" height="180"> <img src="images/freewheel.jpg" width="240" height="180"> <img src="images/groundshock.jpg" width="240" height="180"> <br> <img src="images/guardian.jpg" width="240" height="180"> <img src="images/muscle.jpg" width="240" height="180"> <img src="images/nuke.jpg" width="240" height="180"> <br> <img src="images/skull.jpg" width="240" height="180"> <img src="images/thermo.jpg" width="240" height="180"> <img src="images/pickuptruck.jpg" width="240" height="180"> </p> <p> This is a digital twin of the Anki Overdrive which shows the current status of the cars. The twin works both ways, which means that the cars can also be controlled from this twin, e.g. speed and lane offset. </p> </div> </div>'),a.put("views/collisiondetection.html",'<!--\nCopyright 2018 NTT Group\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this\nsoftware and associated documentation files (the "Software"), to deal in the Software\nwithout restriction, including without limitation the rights to use, copy, modify,\nmerge, publish, distribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be included in all copies\nor substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\nINCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\nPURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE\nFOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n--> <div> <img class="img-responsive" ng-src="{{ imageUrl }}"> </div>'),a.put("views/config.html",'<!--\nCopyright 2018 NTT Group\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this\nsoftware and associated documentation files (the "Software"), to deal in the Software\nwithout restriction, including without limitation the rights to use, copy, modify,\nmerge, publish, distribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be included in all copies\nor substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\nINCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\nPURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE\nFOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n--> <div> <p> <a class="btn btn-lg btn-success" ng-click="save()">Save</a> </p> <br> <p> <table> <tr> <td>Slow Speed:&nbsp;&nbsp;</td> <td> <input type="text" class="form-control" ng-model="slowSpeed"> </td> <td><br><br><br></td> </tr> <tr> <td>High Speed:&nbsp;&nbsp;</td> <td> <input type="text" class="form-control" ng-model="highSpeed"> </td> <td><br><br><br></td> </tr> </table> </p> </div>'),a.put("views/main.html",'<!--\nCopyright 2018 NTT Group\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this\nsoftware and associated documentation files (the "Software"), to deal in the Software\nwithout restriction, including without limitation the rights to use, copy, modify,\nmerge, publish, distribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be included in all copies\nor substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\nINCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\nPURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE\nFOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n--> <div ng-if="showCollisionImg" class="top-half"> <div class="car-img-container"> <div class="enclosed"> <img ng-src="{{ car1img }}"> </div> </div> <div class="collision-img-container"> <div class="enclosed"> <img ng-src="{{ imageUrl }}"> </div> </div> <div class="car-img-container"> <div class="enclosed"> <img ng-src="{{ car2img }}"> </div> </div> <br style="clear: left"> </div> <div ng-if="!showCollisionImg" class="top-half-no-collision-img"> <div class="car-img-container"> <div class="enclosed"> <img ng-src="{{ car1img }}"> </div> </div> <div class="car-img-container"> <div class="enclosed"> <img ng-src="{{ car2img }}"> </div> </div> <br style="clear: left"> </div> <div class="bottom-half"> <!-- Car1 --> <div class="car-control-container tableview"> <div class="enclosed"> <table class="table"> <tr> <td>Car 1</td> <td> <select class="large-select" ng-model="car1BtId" ng-change="swapCar(1)"> <option ng-repeat="x in cars" value="{{x.btid}}">{{x.model}}</option> </select> </td> <td> <a ng-click="swapCar(1)" class="btn btn-link"> <span class="glyphicon glyphicon-repeat"></span> </a> </td> </tr> <tr> <td>Speed</td> <td> <div class="speed-wrapper"> <div class="speed-icon"> <img class="" ng-src="{{ speedimg }}"> </div> <div class="speed-text"> {{ status[1].carSpeed }} </div> </div> </td> <td> <a ng-click="changeSpeedDown(1)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-down"></span> </a> <a ng-click="changeSpeedUp(1)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-up"></span> </a> <a ng-click="changeSpeedStop(1)" class="btn btn-link"> <span class="glyphicon glyphicon-ban-circle"></span> </a> </td> </tr> <tr> <td>Lane</td> <td> <div class="lane-wrapper"> <div class="lane-icon"> <img class="" ng-src="{{ laneimg }}"> </div> <div class="lane-text"> <span class="lane-text-left"> {{ status[1].laneNo }} </span> <span class="lane-text-right"> {{ status[1].laneOffset }} </span> <!--\n                <span class="lane-text-outside">\n                  <span ng-if="status[1].laneNo !== status[1].laneOffset" class="glyphicon glyphicon-warning-sign" style="display: inline"></span>\n                </span>\n                --> </div> </div> </td> <td> <a ng-click="changeLaneLeft(1)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-left"></span> </a> <a ng-click="changeLaneRight(1)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-right"></span> </a> </td> </tr> <tr> <td>Battery</td> <td> <div class="battery-wrapper"> <div class="battery-icon"> <img class="" ng-src="{{ car1batteryimg }}"> </div> <div class="battery-text"> {{ status[1].carBatteryLevel }} </div> </div> </td> <td> <a ng-click="requestLevel(1)" class="btn btn-link"> <span class="glyphicon glyphicon-repeat"></span> </a> </td> </tr> <tr> <td>Tile</td> <td> <div class="tile-number-wrapper"> <div class="tile-number-icon"> <img class="" ng-src="{{ tilenumberimg }}"> </div> <div class="tile-number-text"> {{ status[1].posTileNo }} </div> </div> <img class="tile-img" ng-src="{{ car1tileimg }}"> </td> <td> <a ng-click="toggleCollisionImage()" class="btn btn-link"> <span class="glyphicon glyphicon-ban-circle"></span> </a> </td> </tr> </table> </div> </div> <!-- Car2 --> <div class="car-control-container tableview"> <div class="enclosed"> <table class="table"> <tr> <td>Car 2</td> <td> <select class="large-select" ng-model="car2BtId" ng-change="swapCar(2)"> <option ng-repeat="x in cars" value="{{x.btid}}">{{x.model}}</option> </select> </td> <td> <a ng-click="swapCar(2)" class="btn btn-link"> <span class="glyphicon glyphicon-repeat"></span> </a> </td> </tr> <tr> <td>Speed</td> <td> <div class="speed-wrapper"> <div class="speed-icon"> <img class="" ng-src="{{ speedimg }}"> </div> <div class="speed-text"> {{ status[2].carSpeed }} </div> </div> </td> <td> <a ng-click="changeSpeedDown(2)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-down"></span> </a> <a ng-click="changeSpeedUp(2)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-up"></span> </a> <a ng-click="changeSpeedStop(2)" class="btn btn-link"> <span class="glyphicon glyphicon-ban-circle"></span> </a> </td> </tr> <tr> <td>Lane</td> <td> <div class="lane-wrapper"> <div class="lane-icon"> <img class="" ng-src="{{ laneimg }}"> </div> <div class="lane-text"> <span class="lane-text-left"> {{ status[2].laneNo }} </span> <span class="lane-text-right"> {{ status[2].laneOffset }} </span> <!--\n                <span class="lane-text-outside">\n                  <span ng-if="status[2].laneNo !== status[2].laneOffset" class="glyphicon glyphicon-warning-sign"></span>\n                </span>\n                --> </div> </div> </td> <td> <a ng-click="changeLaneLeft(2)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-left"></span> </a> <a ng-click="changeLaneRight(2)" class="btn btn-link"> <span class="glyphicon glyphicon-circle-arrow-right"></span> </a> </td> </tr> <tr> <td>Battery</td> <td> <div class="battery-wrapper"> <div class="battery-icon"> <img class="" ng-src="{{ car2batteryimg }}"> </div> <div class="battery-text"> {{ status[2].carBatteryLevel }} </div> </div> </td> <td> <a ng-click="requestLevel(2)" class="btn btn-link"> <span class="glyphicon glyphicon-repeat"></span> </a> </td> </tr> <tr> <td>Tile</td> <td> <div class="tile-number-wrapper"> <div class="tile-number-icon"> <img class="" ng-src="{{ tilenumberimg }}"> </div> <div class="tile-number-text"> {{ status[2].posTileNo }} </div> </div> <img class="tile-img" ng-src="{{ car2tileimg }}"> </td> <td> <a ng-click="toggleCollisionImage()" class="btn btn-link"> <span class="glyphicon glyphicon-ban-circle"></span> </a> </td> </tr> </table> </div> <br style="clear: left"> </div> </div>')}]);